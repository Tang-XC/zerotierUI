import{j as e,v as p,w as x,s as q,r as c,I as H}from"./index-ljxfhu_I.js";import{j as A,e as O,k as V,M as B}from"./FormLabel-lVHghlsB.js";import{B as h}from"./Button-YgSGqIkT.js";const le=a=>{const{prefix:s="icon",name:l,size:i,color:n}=a;return e.jsx("svg",{className:"svg-icon","aria-hidden":!0,style:{width:i,height:i,fill:n},children:e.jsx("use",{href:`#${s}-${l}`})})};var j={},T=x;Object.defineProperty(j,"__esModule",{value:!0});var R=j.default=void 0,U=T(p()),W=e,N=(0,U.default)((0,W.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");R=j.default=N;var m={},G=x;Object.defineProperty(m,"__esModule",{value:!0});var I=m.default=void 0,J=G(p()),K=e,Q=(0,J.default)((0,K.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"RemoveRedEye");I=m.default=Q;var g={},X=x;Object.defineProperty(g,"__esModule",{value:!0});var C=g.default=void 0,Y=X(p()),Z=e,ee=(0,Y.default)((0,Z.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");C=g.default=ee;const te=a=>{const{children:s}=a;return e.jsx(h,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",alignItems:"center",gap:2},children:s})},w=a=>{const{children:s,error:l}=a,i={border:3,transform:"scale(1.04)",borderStyle:"dashed",borderColor:"divider",boxSizing:"border-box"},n=l?{...i,borderColor:"error.main"}:{};return e.jsx(h,{sx:{width:150,height:150,backgroundColor:"#f5f5f5",cursor:"pointer",borderRadius:2,overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",color:"primary.main",position:"relative","&:hover":{...i},"&:hover > div":{opacity:1},...n},children:s||e.jsx(R,{})})},re=q("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});c.forwardRef((a,s)=>{const{label:l="",children:i,listType:n,fileList:ae=[],multiple:z,value:f=[],onChange:o,error:y=!1,helperText:F,...b}=a,[$,v]=c.useState(f),[M,L]=c.useState(""),[P,_]=c.useState(!1),D=r=>{r.forEach(t=>{const d=new FileReader;d.readAsDataURL(t),d.onload=()=>{const u={uid:t.name,name:t.name,url:d.result,status:"uploading",originFileObj:t,type:t.type,size:t.size};v(S=>(o==null||o([...S,u]),[...S,u]))}})},E=r=>{const{files:t}=r.target;t&&D(Array.from(t))},k=r=>{v(t=>{const d=t.findIndex(u=>u.uid===r);return t.splice(d,1),o==null||o(t),[...t]})};return c.useEffect(()=>{v(f===void 0?[]:f)},[a.value]),e.jsxs(e.Fragment,{children:[e.jsxs(A,{component:"fieldset",variant:"standard",margin:b.margin,error:y,sx:{width:"100%",mt:0},children:[e.jsx(O,{component:"legend",sx:{mb:2},children:l}),n==="picture-card"&&e.jsxs(te,{children:[$.map(r=>e.jsxs(w,{children:[e.jsx("img",{style:{width:"100%",height:"100%",objectFit:"cover"},src:r.url,alt:r.name}),e.jsxs(h,{sx:{position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",justifyContent:"space-around",alignItems:"center",p:3,opacity:0,background:"radial-gradient(circle, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0.4) 100%)",transition:"opacity 0.3s ease",color:"white"},children:[e.jsx("div",{onClick:()=>{_(!0),L(r.url)},children:e.jsx(I,{fontSize:"large"})}),e.jsx("div",{onClick:()=>k(r.uid),children:e.jsx(C,{fontSize:"large"})})]})]},r.uid)),e.jsx(w,{error:y,children:e.jsxs(H,{component:"label",children:[i,e.jsx(re,{ref:s,type:"file",multiple:z,onChange:E.bind(void 0),value:"",...b})]})})]}),e.jsx(V,{children:F})]}),e.jsx(B,{open:P,onClose:()=>_(!1),sx:{display:"grid",placeItems:"center"},children:e.jsx(h,{sx:{backgroundColor:"white",height:"60vh",p:2},children:e.jsx("img",{style:{width:"100%",height:"100%",objectFit:"contain"},src:M})})})]})});export{le as S,C as d};
